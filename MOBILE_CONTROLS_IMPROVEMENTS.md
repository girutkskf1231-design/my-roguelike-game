# 모바일 조작 개선 방안

## 현재 상태

- **PC**: A/D 이동, Space/W 점프, Shift 회피, J 공격, 1/2/3 스킬 등 키보드 조작
- **모바일**: `MobileControls` 컴포넌트로 터치 버튼 제공 (←→ 이동, ↑ 점프, 검 공격, 방패 회피, ✨ 스킬)
- 하단 조작 안내는 PC 키 기준으로만 표시되어 모바일 사용자가 직관적으로 이해하기 어려움

## 제안 방안

### 1. 모바일 전용 조작 안내 문구 (적용됨)

- **문제**: 화면 하단에 "A/D: 이동 | Space/W: 점프 | Shift: 회피..."만 노출되어 터치 유저가 혼동
- **방안**: 뷰포트가 md 미만일 때는 터치 버튼 기준 안내로 교체
  - 예: `←→ 이동 · ↑ 점프 · 검 공격 · 방패 회피 · ✨ 스킬 · 하단 좌우 전환`

### 2. 1회성 입력 후 keyup 디스패치 (적용됨)

- **문제**: 점프/공격/회피/스킬은 터치 시 `keydown`만 보내고 `keyup`을 보내지 않아, 게임 내부 `keysPressed`에 키가 남을 수 있음
- **방안**: 해당 액션에 한해 `keydown` 발생 직후 다음 프레임에 `keyup`을 디스패치해 키 상태를 정리

### 3. 모바일에서 버튼 크기 조절 (적용됨)

- **문제**: 손가락 크기·기기마다 버튼이 작게 느껴질 수 있음. `buttonScale`은 있으나 게임 내에서 변경 경로가 없음
- **방안**: 일시정지 메뉴에서 md 미만일 때만 "조작 버튼 크기" 슬라이더 노출, 변경값을 `MobileSettings`(로컬/프로필)에 반영

### 4. 추가 권장 사항 (선택)

- **가상 조이스틱**: 현재는 좌/우/점프 버튼 방식. 원하면 한 손가락으로 방향 입력하는 조이스틱 모드 추가 검토
- **햅틱**: `navigator.vibrate(10)` 등으로 터치 시 짧은 진동 (지원 환경에서만)
- **첫 실행 툴팁**: 모바일 첫 플레이 시 "←→ 이동, ↑ 점프" 등 짧은 오버레이로 한 번만 안내

## 적용된 변경 요약

| 항목 | 파일 | 내용 |
|------|------|------|
| 모바일 조작 안내 | `App.tsx` | md 미만에서 터치용 안내 문구로 전환 |
| keyup 정리 | `MobileControls.tsx` | 점프/공격/회피/스킬 터치 시 keyup 디스패치 |
| 버튼 크기 설정 | `App.tsx` | 일시정지 메뉴에 모바일 전용 버튼 크기 슬라이더 추가 |
